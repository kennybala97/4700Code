function [V] = transient_simulator(components,V_in,dt,n)

    C = [0, 0, 0, 0, 0, 0;...
        components.C,  -components.C, 0, 0, 0, 0;...
        0,  0, 0, 0, 0, 0;...
        0,  0, 0, 0, 0, 0;...
        0,  0, 0, 0, 0, -components.L;...
        0,  0, 0, 0, 0, 0];

    G = [1, 0, 0, 0, 0, 0;...
        1/components.R1, -1/components.R1 - 1/components.R2, 0, 0, 0, -1;...
        0,  0, -1/components.R3, 0, 0, 1;...
        0,  0, 0, 1/components.R4, -(1/components.R4 + 1/components.RO), 0;...
        0,  1, -1, 0, 0, 0;...
        0,  0, 0, 1, 0, -components.alpha];

    V = zeros(6,n);
    F = [V_in(1);0;0;0;0;0];
    V(:,1) = G\F;

    for i=2:1:n
        F = [V_in(i);0;0;0;0;0];
        A = C./dt + G;
        V(:,i) = A\(C*V(:,i-1)./dt + F);
    end
end

